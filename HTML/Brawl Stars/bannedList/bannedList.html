<!DOCTYPE html>
<html>
    <meta charset="UTF-8">
<head>

    <style>
        body {
            margin: 0px;
        }

        .url {
            width: 100%;
        }
        #iframeBans {
            width: 100%;
            height: 650px;
        }
    </style>
</head>

<body onload="generateUrl();">
    <div>
        Casa:
        <select id="selCasa" onchange="generateUrl()"></select>

        Ban 1:
        <select id="selCasaBan1" onchange="generateUrl()"></select>

        Ban 2:
        <select id="selCasaBan2" onchange="generateUrl()"></select>
    </div>
    <div>
        Visitante:
        <select id="selVisitante" onchange="generateUrl()"></select>

        Ban 1:
        <select id="selVisitanteBan1" onchange="generateUrl()"></select>

        Ban 2:
        <select id="selVisitanteBan2" onchange="generateUrl()"></select>
    </div>
    <div>
        <input type="text" id="txtUrl" class="url" />
    </div>
    <br/>
    <div>
        <iframe id="iframeBans" src=""></iframe>
    </div>
    <script>
        teamSelectIds = ["selCasa", "selVisitante"]
        banSelectIds = ["selCasaBan1", "selCasaBan2", "selVisitanteBan1", "selVisitanteBan2"]

        function generateUrl() {
            selCasa = document.getElementById("selCasa").value;
            selVisitante = document.getElementById("selVisitante").value;
            selCasaBan1 = document.getElementById("selCasaBan1").value;
            selCasaBan2 = document.getElementById("selCasaBan2").value;
            selVisitanteBan1 = document.getElementById("selVisitanteBan1").value;
            selVisitanteBan2 = document.getElementById("selVisitanteBan2").value;
            txtUrl = document.getElementById("txtUrl");
            subDirectory = window.document.location.href.substr(0, window.document.location.href.lastIndexOf("/") + 1);
            txtUrl.value = subDirectory + "bannedListIFRAME.html" +
                "?timeCasa=" + selCasa +
                "&timeVisitante=" + selVisitante +
                "&casaBan1=" + selCasaBan1 +
                "&casaBan2=" + selCasaBan2 +
                "&visitanteBan1=" + selVisitanteBan1 +
                "&visitanteBan2=" + selVisitanteBan2;

            document.getElementById("iframeBans").src = txtUrl.value;
        }

        document.addEventListener('readystatechange', event => { 
            // When HTML/DOM elements are ready:
            if (event.target.readyState === "interactive") {   //does same as:  ..addEventListener("DOMContentLoaded"..
                load(teamSelectIds, teams);
                load(banSelectIds, brawlers);
            }
        });

        
        function load(selectIds, json) {
            for (i = 0; i < selectIds.length; i++) {
                var select = document.getElementById(selectIds[i]);

                for (j = 0; j < json.length; j++) {
                    var option = document.createElement("option");
                    option.text = json[j].name;
                    option.value = json[j].image;

                    select.add(option);
                }
            }
        }

        // JSON
        const teams = [
            { "name": "Selecione", "image": "", },
            { "name": "4K TEAM GAMING", "image": "4K TEAM GAMING.png", },
            { "name": "BANANA CLUB", "image": "BANANA CLUB.png", },
            { "name": "CLÃ HOZURA", "image": "CLÃ HOZURA.png", },
            { "name": "ELITE GROUP", "image": "ELITE GROUP.png", },
            { "name": "GAME OVER", "image": "GAME OVER.png", },
            { "name": "LOS BROTHERS", "image": "LOS BROTHERS.png", },
            { "name": "NUCLEAR GAMING", "image": "NUCLEAR GAMING.png", },
        ]

        const brawlers =[
            { "name": "Selecione", "image": "", },
            
            { "name": "8bit", "image": "8bit_portrait.png", },
            { "name": "Amber", "image": "amber_portrait.png", },
            { "name": "Ash", "image": "ash_portrait.png", },
            { "name": "Barley", "image": "barley_portrait.png", },
            { "name": "Bea", "image": "bea_portrait.png", },
            { "name": "Belle", "image": "Belle_portrait.png", },
            { "name": "Bibi", "image": "bibi_portrait.png", },
            { "name": "Bo", "image": "bo_portrait.png", },
            { "name": "Bonnie", "image": "bonnie_portrait.png", },
            { "name": "Brock", "image": "brock_portrait.png", },
            { "name": "Bull", "image": "bull_portrait.png", },
            { "name": "Buster", "image": "buster_portrait.png", },
            { "name": "Buzz", "image": "buzz_portrait.png", },
            { "name": "Byron", "image": "byron_portrait.png", },
            { "name": "Carl", "image": "carl_portrait.png", },
            { "name": "Charlie", "image": "charlie_portrait.png", },
            { "name": "Chester", "image": "chester_portrait.png", },
            { "name": "Chuck", "image": "chuck_portrait.png", },
            { "name": "Colette", "image": "Colette_portrait.png", },
            { "name": "Colt", "image": "colt_portrait.png", },
            { "name": "Cornelius", "image": "cornelius_portrait.png", },
            { "name": "Crow", "image": "crow_end_portrait.png", },
            { "name": "Darryl", "image": "darryl_portrait.png", },
            { "name": "Doug", "image": "doug_portrait.png", },
            { "name": "Edgar", "image": "edgar_portrait.png", },
            { "name": "Emz", "image": "emz_portrait.png", },
            { "name": "Eve", "image": "eve_portrait.png", },
            { "name": "Fang", "image": "fang_portrait.png", },
            { "name": "Frank", "image": "frank_portrait.png", },
            { "name": "Gale", "image": "gale_portrait.png", },
            { "name": "Gene", "image": "gene_portrait.png", },
            { "name": "Gray", "image": "Gray_portrait.png", },
            { "name": "Griff", "image": "Griff_portrait.png", },
            { "name": "Grom", "image": "grom_portrait.png", },
            { "name": "Gus", "image": "gus_portrait.png", },
            { "name": "Hank", "image": "hank_portrait.png", },
            { "name": "Jacky", "image": "jacky_portrait.png", },
            { "name": "Janet", "image": "janet_portrait.png", },
            { "name": "Jessie", "image": "jessie_new_portrait.png", },
            { "name": "Leon", "image": "leon_portrait.png", },
            { "name": "Lola", "image": "lola_portrait.png", },
            { "name": "Lou", "image": "Lou_portrait.png", },
            { "name": "Maisie", "image": "maisie_portrait.png", },
            { "name": "Mandy", "image": "mandy_portrait.png", },
            { "name": "Max", "image": "max_portrait.png", },
            { "name": "Meg", "image": "Meg_portrait.png", },
            { "name": "Mike", "image": "mike_portrait.png", },
            { "name": "Mortis", "image": "mortis_portrait.png", },
            { "name": "Mr. P", "image": "mrp_portrait.png", },
            { "name": "Nani", "image": "nani_portrait.png", },
            { "name": "Nita", "image": "nita_portrait.png", },
            { "name": "Otis", "image": "otis_portrait.png", },
            { "name": "Pam", "image": "pam_portrait.png", },
            { "name": "Pearl", "image": "pearl_portrait.png", },
            { "name": "Penny", "image": "penny_portrait.png", },
            { "name": "Piper", "image": "piper_portrait.png", },
            { "name": "Poco", "image": "poco_portrait.png", },
            { "name": "Primo", "image": "primo_portrait.png", },
            { "name": "Rico", "image": "rico_portrait.png", },
            { "name": "Rosa", "image": "rosa_portrait.png", },
            { "name": "RT", "image": "rt_portrait.png", },
            { "name": "Ruffs", "image": "ruffs_portrait.png", },
            { "name": "Sam", "image": "sam_portrait.png", },
            { "name": "Sandy", "image": "sandy_portrait.png", },
            { "name": "Shelly", "image": "shelly_portrait.png", },
            { "name": "Spike", "image": "spike_portrait.png", },
            { "name": "Sprout", "image": "sprout_portrait.png", },
            { "name": "Squeak", "image": "squeak_portrait.png", },
            { "name": "Stu", "image": "stu_portrait.png", },
            { "name": "Surge", "image": "surge_end_portrait.png", },
            { "name": "Tara", "image": "tara_portrait.png", },
            { "name": "Tick", "image": "tick_portrait.png", },
            { "name": "Willow", "image": "willow_portrait.png", },
        ]
    </script>
</body>

</html>